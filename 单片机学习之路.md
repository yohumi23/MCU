# 二、蜂鸣器

* 有源：自带震荡源，通电就叫
* 无源：2k~5k方波驱动



三极管工作原理

做开关应用

![image-20211203124436578](https://cdn.jsdelivr.net/gh/yohumi23/Pics/202112031344318.png)

开关管：

PNP： E->A电流>1ma,EC导通（饱和），小于截止；VE-VE>0.7导通

NPN：B->E电流大于1ma，CE导通；或者电压VB-VE>0.7V，也导通

![image-20211203135013632](https://cdn.jsdelivr.net/gh/yohumi23/Pics/202112031352183.png)

或者电压大于0.7V,也导通



为什么P23端不能直接通过一个5v接到蜂鸣器呢？

1.  单片机不是功率器件，它适合做控制用，不适合驱动器件；P23端的电流太小
2. 只能通过VCC来驱动







# 三、数码管

* 静态显示与动态显示
* 74HC573锁存器的工作原理
* 上拉电阻的作用
* 原理图分析
* 编程

![image-20211203140025560](https://cdn.jsdelivr.net/gh/yohumi23/Pics/202112031400428.png)

单片机是共阳极



![image-20211203141331885](https://cdn.jsdelivr.net/gh/yohumi23/Pics/202112031413619.png)



静态显示和动态显示

![image-20211203141512493](https://cdn.jsdelivr.net/gh/yohumi23/Pics/202112031415108.png)



## **74HC573锁存器**

如果不用锁存器，8位的数码管需要8个段选择+8个位选=16个IO口

使用锁存器，只需要8个IO口，节省硬件资源

![image-20211203142032550](https://cdn.jsdelivr.net/gh/yohumi23/Pics/202112031420655.png)

alldatasheet查询数据手册





## 上拉电阻

![image-20211203142351666](https://cdn.jsdelivr.net/gh/yohumi23/Pics/202112031423757.png)



准双向：P1,P2,P3是准双向，P0是开漏的，也就是只能输出低电平。

![image-20211203142632487](https://cdn.jsdelivr.net/gh/yohumi23/Pics/202112031426228.png)

右侧管脚1,0都能输出。







![image-20211203142825666](https://cdn.jsdelivr.net/gh/yohumi23/Pics/202112031428134.png)

此时的管脚是悬空的，不确认状态。



![image-20211203142934217](https://cdn.jsdelivr.net/gh/yohumi23/Pics/202112031429731.png)

此时，管脚是0v的，因为没上拉电阻，所以只能输出0V。



![image-20211203143042156](https://cdn.jsdelivr.net/gh/yohumi23/Pics/202112031430895.png)

U9是段选，U8是位选，分时复用。





## 数码管动态显示

![image-20211203175816137](https://cdn.jsdelivr.net/gh/yohumi23/Pics/202112031758006.png)







# 四、8*8点阵屏

* 8*8LED点阵屏电路图
* 74HC595芯片工作原理
* 实践



![image-20211203183153552](https://cdn.jsdelivr.net/gh/yohumi23/Pics/202112031831357.png)

一次只能点亮一颗灯，采用动态显示。

两片595级联+3个IO口就可以显示一块点阵屏



## 74HC595芯片工作原理

![image-20211204001432202](https://cdn.jsdelivr.net/gh/yohumi23/Pics/202112040014187.png)



串行：传输速度慢，但是占用资源少 ；并行反之

![image-20211204001529377](https://cdn.jsdelivr.net/gh/yohumi23/Pics/202112040015652.png)



![image-20211204003512276](https://cdn.jsdelivr.net/gh/yohumi23/Pics/202112040035199.png)



[芯片数据]: http://www.elecfans.com/dianzichangshi/20180117617410_a.html	"HC595和7219的区别"



OE可以实现闪屏的功能；







# 五、中断系统

* 作用
* 如何使用？

![image-20211204112712129](https://cdn.jsdelivr.net/gh/yohumi23/Pics/202112041127857.png)



一个周期：1.085us

![image-20211204112911022](https://cdn.jsdelivr.net/gh/yohumi23/Pics/202112041129242.png)



上电复位：阻容电路实现上电复位，电容充电>两个机器重器，RST有两个机器周期的高电平。电容充电完成，阻隔直流，RST接地，复位完成。

手动复位：xxx



EA:Extra 外部，一般置高位，因为空间够用。

Vpp用不到了。

<img src="https://cdn.jsdelivr.net/gh/yohumi23/Pics/202112041135334.png" alt="image-20211204113508733" style="zoom:150%;" />



P3.6,P3.7不再使用

<img src="https://cdn.jsdelivr.net/gh/yohumi23/Pics/202112041138327.png" alt="image-20211204113743114" style="zoom:150%;" />

<img src="C:/Users/LoadingV/Desktop/%E5%8D%95%E7%89%87%E6%9C%BA/MCU/%E5%8D%95%E7%89%87%E6%9C%BA%E5%AD%A6%E4%B9%A0%E4%B9%8B%E8%B7%AF.assets/image-20211204114006824.png" alt="image-20211204114006824" style="zoom:150%;" />

温度传感器：查询传送方式，CPU查询温度转换是否完成，若完成，则读取，否则等待

<img src="https://cdn.jsdelivr.net/gh/yohumi23/Pics/202112041143115.png" alt="image-20211204114349054" style="zoom:150%;" />



![image-20211204114424138](https://cdn.jsdelivr.net/gh/yohumi23/Pics/202112041144227.png)

<img src="https://cdn.jsdelivr.net/gh/yohumi23/Pics/202112041153503.png" alt="image-20211204115300175" style="zoom:150%;" />

![image-20211204115635836](https://cdn.jsdelivr.net/gh/yohumi23/Pics/202112041156588.png)

